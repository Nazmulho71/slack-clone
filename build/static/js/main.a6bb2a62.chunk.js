(this["webpackJsonpcounter-app"]=this["webpackJsonpcounter-app"]||[]).push([[0],{72:function(e,t,c){},81:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(2),a=c.n(s),i=c(29),r=c.n(i),o=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))},l=c(14),j=c(38),d=c(9),h=Object(s.createContext)(),u=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(n.jsx)(h.Provider,{value:Object(s.useReducer)(t,c),children:a})},b=function(){return Object(s.useContext)(h)},m=c(108),O=c(48),x=c.n(O),p=c(49),v=c.n(p),f=c(50),g=c.n(f);c(72);var _=function(){var e=b(),t=Object(l.a)(e,1)[0].user;return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"header__left",children:[Object(n.jsx)(m.a,{className:"header__avatar",alt:null===t||void 0===t?void 0:t.displayName,src:null===t||void 0===t?void 0:t.photoURL}),Object(n.jsx)(x.a,{})]}),Object(n.jsxs)("div",{className:"header__search",children:[Object(n.jsx)(v.a,{}),Object(n.jsx)("input",{placeholder:"Search Developer",type:"text"})]}),Object(n.jsx)("div",{className:"header__right",children:Object(n.jsx)(g.a,{})})]})},N=c(51),I=c.n(N),S=c(52),C=c.n(S),w=c(53),y=c.n(w),k=c(54),D=c.n(k),E=c(55),T=c.n(E),F=c(56),P=c.n(F),A=c(57),B=c.n(A),G=c(58),L=c.n(G),R=c(59),J=c.n(R),M=c(60),U=c.n(M),z=c(61),V=c.n(z),q=c(62),Q=c.n(q),W=c(32),X=W.a.initializeApp({apiKey:"AIzaSyBQr-VwJb8yaTQPmBktqgeAfGEs0vpXJyc",authDomain:"slack-clone-ac472.firebaseapp.com",projectId:"slack-clone-ac472",storageBucket:"slack-clone-ac472.appspot.com",messagingSenderId:"368762421647",appId:"1:368762421647:web:82bf856b92da6ae747cbfa",measurementId:"G-VX1YG2FR6C"}).firestore(),K=W.a.auth(),Y=new W.a.auth.GoogleAuthProvider,H=X;c(81);var Z=function(e){var t=e.Icon,c=e.title,s=e.id,a=e.addChannelOption,i=Object(d.f)();return Object(n.jsxs)("div",{className:"sidebarOption",onClick:a?function(){var e=prompt("Please enter the channel name!");e&&H.collection("rooms").add({name:e})}:function(){s?i.push("/room/".concat(s)):i.push(c)},children:[t&&Object(n.jsx)(t,{className:"sidebarOption__icon"}),t?Object(n.jsx)("h3",{children:c}):Object(n.jsxs)("h3",{className:"sidebarOption__channel",children:[Object(n.jsx)("span",{className:"sidebarOption__hash",children:"#"})," ",c]})]})};c(83);var $=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],i=b(),r=Object(l.a)(i,1)[0].user;return Object(s.useEffect)((function(){H.collection("rooms").onSnapshot((function(e){return a(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsxs)("div",{className:"sidebar__header",children:[Object(n.jsxs)("div",{className:"sidebar__info",children:[Object(n.jsx)("h2",{children:"Developer"}),Object(n.jsxs)("h3",{children:[Object(n.jsx)(I.a,{}),null===r||void 0===r?void 0:r.displayName]})]}),Object(n.jsx)(C.a,{})]}),Object(n.jsx)(Z,{Icon:y.a,title:"Threads"}),Object(n.jsx)(Z,{Icon:D.a,title:"Mention & reactions"}),Object(n.jsx)(Z,{Icon:T.a,title:"Saved items"}),Object(n.jsx)(Z,{Icon:P.a,title:"Channel browser"}),Object(n.jsx)(Z,{Icon:B.a,title:"People & user groups"}),Object(n.jsx)(Z,{Icon:L.a,title:"Apps"}),Object(n.jsx)(Z,{Icon:J.a,title:"File browser"}),Object(n.jsx)(Z,{Icon:U.a,title:"Show less"}),Object(n.jsx)("hr",{}),Object(n.jsx)(Z,{Icon:V.a,title:"Channels"}),Object(n.jsx)("hr",{}),Object(n.jsx)(Z,{Icon:Q.a,addChannelOption:!0,title:"Add Channel"}),c.map((function(e){return Object(n.jsx)(Z,{title:e.name,id:e.id})}))]})},ee=c(63),te=c.n(ee),ce=c(64),ne=c.n(ce);c(84);var se=function(e){var t=e.message,c=e.timestamp,s=e.user,a=e.userImage;return Object(n.jsxs)("div",{className:"message",children:[Object(n.jsx)("img",{src:a,alt:""}),Object(n.jsxs)("div",{className:"message__info",children:[Object(n.jsxs)("h4",{children:[s," ",Object(n.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(n.jsx)("p",{children:t})]})]})};c(85);var ae=function(e){var t=e.channelName,c=e.channelId,a=Object(s.useState)(""),i=Object(l.a)(a,2),r=i[0],o=i[1],j=b(),d=Object(l.a)(j,1)[0].user;return Object(n.jsx)("div",{className:"chatInput",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},placeholder:"Message #".concat(null===t||void 0===t?void 0:t.toLowerCase())}),Object(n.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),c&&H.collection("rooms").doc(c).collection("messages").add({message:r,timestamp:W.a.firestore.FieldValue.serverTimestamp(),user:d.displayName,userImage:d.photoURL})},children:"SEND"})]})})};c(86);var ie=function(){var e=Object(d.g)().roomId,t=Object(s.useState)(null),c=Object(l.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)([]),o=Object(l.a)(r,2),j=o[0],h=o[1];return Object(s.useEffect)((function(){e&&H.collection("rooms").doc(e).onSnapshot((function(e){return i(e.data())})),H.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return h(e.docs.map((function(e){return e.data()})))}))}),[e]),console.log(a),console.log("MESSAGES >>>",j),Object(n.jsxs)("div",{className:"chat",children:[Object(n.jsxs)("div",{className:"chat__header",children:[Object(n.jsx)("div",{className:"chat__headerLeft",children:Object(n.jsxs)("h4",{className:"chat__channelName",children:[Object(n.jsxs)("strong",{children:["#",null===a||void 0===a?void 0:a.name]}),Object(n.jsx)(te.a,{})]})}),Object(n.jsx)("div",{className:"chat__headerRight",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(ne.a,{})," Details"]})})]}),Object(n.jsx)("div",{className:"chat__messages",children:j.map((function(e){var t=e.message,c=e.timestamp,s=e.user,a=e.userImage;return Object(n.jsx)(se,{message:t,timestamp:c,user:s,userImage:a})}))}),Object(n.jsx)(ae,{channelName:null===a||void 0===a?void 0:a.name,channelId:null===a||void 0===a?void 0:a.id})]})},re=c(107),oe=c(45),le="SET_USER",je=function(e,t){switch(console.log(t),t.type){case le:return Object(oe.a)(Object(oe.a)({},e),{},{user:t.user});default:return e}};c(87);var de=function(){var e=b(),t=Object(l.a)(e,2),c=(t[0],t[1]);return Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("div",{className:"login__container",children:[Object(n.jsx)("div",{}),Object(n.jsx)("img",{src:"https://a.slack-edge.com/80588/marketing/img/icons/icon_slack_hash_colored.png",alt:""}),Object(n.jsx)("h1",{className:"h",children:"Sign In to the Slack Clone"}),Object(n.jsx)("p",{className:"p",children:"The best way to communicate"}),Object(n.jsxs)(re.a,{onClick:function(){K.signInWithPopup(Y).then((function(e){console.log(e),c({type:le,user:e.user})})).catch((function(e){alert(e.message)}))},children:[Object(n.jsx)("img",{className:"google",src:"https://images.theconversation.com/files/93616/original/image-20150902-6700-t2axrz.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1000&fit=clip",alt:""}),Object(n.jsx)("p",{className:"signInText",children:"Sign In with Google"})]})]})})};c(88);var he=function(){var e=b(),t=Object(l.a)(e,2),c=t[0].user;return t[1],Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(j.a,{children:c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(_,{}),Object(n.jsxs)("div",{className:"app__body",children:[Object(n.jsx)($,{}),Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{path:"/room/:roomId",children:Object(n.jsx)(ie,{})}),Object(n.jsx)(d.a,{path:"/",children:Object(n.jsx)("h1",{className:"welcome",children:"Welcome"})})]})]})]}):Object(n.jsx)(de,{})})})};c(89);r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(u,{initialState:{user:null},reducer:je,children:Object(n.jsx)(he,{})})}),document.getElementById("root")),o()}},[[90,1,2]]]);
//# sourceMappingURL=main.a6bb2a62.chunk.js.map